{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://bmad-spec/schemas/route_decision.schema.json",
  "title": "Route Decision",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "selected_workflow",
    "reason",
    "confidence",
    "inputs_missing",
    "next_step"
  ],
  "properties": {
    "selected_workflow": {
      "type": "string",
      "enum": [
        "greenfield-fullstack",
        "greenfield-ui",
        "greenfield-service",
        "brownfield-fullstack",
        "brownfield-ui",
        "brownfield-service"
      ]
    },
    "reason": { "type": "string", "maxLength": 600 },
    "confidence": { "type": "number", "minimum": 0, "maximum": 1 },
    "inputs_missing": { "type": "array", "items": { "type": "string" } },
    "next_step": { "type": "integer", "minimum": 1 },
    "required_inputs": { "type": "array", "items": { "type": "string" } },
    "expected_artifacts": { "type": "array", "items": { "type": "string" } }
  }
}

